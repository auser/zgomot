##############################################################################################################
module Zgomot::Midi

  #####-------------------------------------------------------------------------------------------------------
  class Stream

    #####-------------------------------------------------------------------------------------------------------
    class << self
      
      #.........................................................................................................
      @channel = 0
      @streams = []

      #.........................................................................................................
      attr_reader :channel

      #.........................................................................................................
      def stream(opts={}, &blk)
        strm = new(channel)
        strm.define_meta_class_method(:play, &blk)      
        channel += 1
        streams << strm.play
      end

      #.........................................................................................................
      def play
      end

    #### self
    end
    
    #####-------------------------------------------------------------------------------------------------------
    attr_reader :channel, :clock
    
    #.........................................................................................................
    def intitialize(channel)
      @channel = channel
      @clock = Clock.new
    end

  #### Stream
  end

#### Zgomot::Comp 
end
